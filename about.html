<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Drew Kazanis – About</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Main CSS -->
  <link rel="stylesheet" href="about.css" />
  <link rel="stylesheet" href="echo-style.css" />

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Lato:wght@300;400;500;700&display=swap"
    rel="stylesheet"
  />
</head>

<body>
  <div class="page-wrapper">

    <!-- ===== HEADER ===== -->
    <header>
      <h1><a href="index.html">Drew Kazanis</a></h1>

      <nav class="home-nav" aria-label="Primary">
        <ul>
          <li><a href="portfolio.html">PROJECTS</a></li>
          <li><a href="about.html" aria-current="page">ABOUT</a></li>
          <li><a href="contact.html">CONTACT</a></li>
          <li><a href="blog.html">BLOG</a></li>
        </ul>
      </nav>
    </header>

    <!-- ===== MAIN ===== -->
    <main>
      <section id="about" class="about-section" aria-labelledby="about-title">
        <div class="container">
          <h2 id="about-title">About Me</h2>

          <div class="about-flex">
            <div class="about-text">
              <p>I’m Drew Kazanis, a server and a builder by nature; a wildland firefighter, photographer, a designer and I try to be a good friend.</p>
              <p>Out of high school, I spent my summers, over 400 days, fighting wildfires on the largest fires in our nation's history, riding around on fire engines and trekking across miles of national forest. I earned a squad boss certification and was qualified to lead crews in wildfire engagements.</p>
              <p>And honestly it was cool as shit.</p>
              <p>During the off season I studied at WWCC, and earned my associates degree.</p>
              <p>At the same time finding my passion for hospitality. I’ve found myself behind bars and on busy floors at some really cool places. Thousands of hours honed my “spidey senses”, my care for my fellow travelers, and meeting needs so well you have time for human connection. These thousands of hours have had a huge impact on who I am, who I’ve been, and where I’m going.</p>
              <p>I always aim to be the person I’d want serving me.</p>
              <p>Finding myself in EWU’s design program fueled by a lifelong love of conceptualizing, crafting, building and just making cool shit.</p>
              <p>The kind of shit people look at and go “huh. cool”.</p>
              <p>Gaining so many new skills that add tools to my growing toolbox of handy tools and gizmos. These tools and fundamental understandings of design give me the freedom I need to blossom as the weird creative, handy nerd that I am.</p>
              <p>Photography, web and print design, product and concept design;</p>
              <p>A love of manual transmissions, guitar, bullshitting about the next cool thing we should make, these are all parts of who I am.</p>
              <p>Take a look at my work and see if you’re inspired or intrigued.</p>

              <p class="make-cool-shit">
                MAKE
                <span
                  data-echo="fragment2"
                  class="echo-link"
                  role="button"
                  tabindex="0"
                  aria-label="Trigger Echo fragment"
                >COOL</span>
                SHIT
              </p>

              <!-- CTA ROW: HTML resume + PDF resume + cover letter -->
              <div class="button-group" aria-label="Resume and documents">
                <!-- HTML resume page (same site) -->
                <a href="resume.html" class="resume-button resume-button--html">
                  HTML Resume
                </a>

                <!-- PDFs: open via modal on desktop, new tab on mobile -->
                <a
                  href="NEW RESUME.pdf"
                  class="resume-button resume-button--pdf"
                  data-modal="pdf"
                  data-pdf-title="Resume (PDF)"
                  target="_blank"
                  rel="noreferrer"
                >
                  Resume (PDF)
                </a>

                <a
                  href="Coverletter.pdf"
                  class="resume-button resume-button--pdf"
                  data-modal="pdf"
                  data-pdf-title="Cover Letter (PDF)"
                  target="_blank"
                  rel="noreferrer"
                >
                  Cover Letter (PDF)
                </a>
              </div>
            </div>

            <figure class="about-photo">
              <img
                src="about me.jpg"
                alt="Portrait of Drew Kazanis in a Carhartt beanie"
                class="about-image"
                loading="lazy"
              />
            </figure>
          </div>
        </div>
      </section>
    </main>

    <!-- ===== FOOTER ===== -->
    <footer>
      <p>&copy; <span id="year"></span> Andrew Kazanis</p>
    </footer>

  </div>

  <!-- ===== PDF MODAL (Accessible) ===== -->
  <div
    id="pdfModal"
    class="modal"
    role="dialog"
    aria-modal="true"
    aria-hidden="true"
    aria-labelledby="pdfModalTitle"
  >
    <div class="modal-content" role="document">
      <div class="modal-header">
        <div id="pdfModalTitle" class="modal-title">Document</div>
        <button class="close-btn" type="button" aria-label="Close PDF viewer">&times;</button>
      </div>

      <iframe
        id="pdfViewer"
        title="PDF Viewer"
        src=""
        loading="lazy"
      ></iframe>
    </div>
  </div>

  <!-- ECHO PORTAL LINK -->
  <a
    id="echo-portal"
    href="https://echo404.netlify.app"
    style="display:none;position:fixed;bottom:1rem;right:1rem;background:#111;color:#fff;padding:0.5rem 1rem;border-radius:6px;text-decoration:none;z-index:9999;"
    rel="noreferrer"
  >
    Enter Echo404
  </a>

  <script type="module">
    import { EchoCore } from './scripts/echo-core.js';
    import { EchoWhispers } from './scripts/whispers.js';
    import { Terminal } from './scripts/terminal.js';
    import { runBootSequence } from './scripts/boot-sequence.js';

    function initEchoSystem() {
      runBootSequence();
      Terminal.init();
      EchoCore.initFragmentTracking();
      EchoWhispers.listenToCore();

      const portal = document.getElementById('echo-portal');

      if (localStorage.getItem('echo.mode') === 'true') {
        document.body.classList.add('echo-mode');
        if (portal) portal.style.display = 'block';
      }

      EchoCore.on('echo:mode-enabled', () => {
        document.body.classList.add('echo-mode');
        if (portal) portal.style.display = 'block';
      });
    }

    function initAboutPageUI() {
      // Footer year
      const y = document.getElementById('year');
      if (y) y.textContent = new Date().getFullYear();

      // Make the "COOL" span keyboard-activatable
      const echoLink = document.querySelector('.echo-link');
      if (echoLink) {
        echoLink.addEventListener('keydown', (e) => {
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            echoLink.click();
          }
        });
      }

      // PDF Modal Logic (fixed: targets [data-modal="pdf"])
      const modal = document.getElementById('pdfModal');
      const viewer = document.getElementById('pdfViewer');
      const closeBtn = document.querySelector('.close-btn');
      const modalTitle = document.getElementById('pdfModalTitle');

      function openModal(href, title) {
        if (!modal || !viewer) return;
        viewer.src = href;
        if (modalTitle) modalTitle.textContent = title || 'Document';
        modal.style.display = 'flex';
        modal.setAttribute('aria-hidden', 'false');
        document.body.style.overflow = 'hidden';
        closeBtn?.focus();
      }

      function closeModal() {
        if (!modal || !viewer) return;
        modal.style.display = 'none';
        modal.setAttribute('aria-hidden', 'true');
        viewer.src = '';
        document.body.style.overflow = '';
      }

      document.querySelectorAll('a[data-modal="pdf"]').forEach((link) => {
        link.addEventListener('click', (e) => {
          const href = link.getAttribute('href');
          if (!href || !href.toLowerCase().endsWith('.pdf')) return;

          // Keep native new-tab behavior on small screens
          const isMobile = window.matchMedia('(max-width: 700px)').matches;
          if (isMobile) return;

          e.preventDefault();
          const title = link.getAttribute('data-pdf-title') || 'Document';
          openModal(href, title);

          // Fallback: if iframe fails, open new tab
          setTimeout(() => {
            try {
              const hasDoc = viewer.contentDocument || viewer.contentWindow?.document;
              if (!hasDoc) throw new Error('No iframe doc');
            } catch {
              window.open(href, '_blank', 'noopener,noreferrer');
              closeModal();
            }
          }, 600);
        });
      });

      closeBtn?.addEventListener('click', closeModal);

      modal?.addEventListener('click', (e) => {
        if (e.target === e.currentTarget) closeModal();
      });

      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') closeModal();
      });
    }

    document.addEventListener('DOMContentLoaded', () => {
      initEchoSystem();
      initAboutPageUI();
    });
  </script>
</body>
</html>
